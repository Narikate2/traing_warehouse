# **Соглашения об именовании**

В этом документе описываются соглашения об именовании, используемые для схем, таблиц, представлений, столбцов и других объектов.

## **Cодержание**

1. Общие принципы
2. Соглашения об именовании таблиц
   - Бронзовые правила
   - Серебряные правила
   - Золотые правила
3. Соглашения об именовании столбцов
   - Суррогатные ключи
   - Технические столбцы
4. Хранимая процедура
---

## **Общие принципы**

- **Соглашения об именовании**: Используйте snake_case, со строчными буквами и символами подчеркивания ("_") для разделения слов.
- **Язык**: Используйте английский для всех имен.
- **Избегайте зарезервированных слов**: Не используйте зарезервированные слова SQL в качестве имен объектов.

## **Соглашения об именовании таблиц**

### **Правила Bronze layer**
- Все имена должны начинаться с имени исходной системы, а имена таблиц должны совпадать с их исходными именами без переименования.
- **`<sourcesystem>_<entity>`**   
    - `<sourcesystem>`: Название исходной системы (e.g., `crm`, `erp`). 
    - `<sourcesystem>`: Название исходной системы (e.g., `crm`, `erp`).
    - `<sourcesystem>`: Название исходной системы (e.g., `crm`, `erp`).

### **Правила Silver layer**
- Все имена должны начинаться с имени исходной системы, а имена таблиц должны совпадать с их исходными именами без переименования.
- **`<sourcesystem>_<entity>`**  
  - `<sourcesystem>`: Название исходной системы (e.g., `crm`, `erp`).  
  - `<entity>`: Точное название таблицы из исходной системы.  
  - Пример: `crm_customer_info` → Информация о клиентах из CRM-системы.

### **Правила Gold Layer**
- Все названия таблиц должны содержать значимые, ориентированные на бизнес названия, начинающиеся с префикса категории.
- **`<category>_<entity>`**  
  - `<category>`: Описывает роль таблицы, например `dim` (dimension) or `fact` (fact table).  
  - `<entity>`: Описательное имя таблицы, приведенное в соответствие с бизнес-доменом (e.g., `customers`, `products`, `sales`).  
  - Примеры:
    - `dim_customers` → Dimension table для получения данных о клиентах.  
    - `fact_sales` → Fact table содержащие транзакции продажи. 

#### **Глоссарий шаблонов категорий**

| Pattern     | Meaning                           | Example(s)                              |
|-------------|-----------------------------------|-----------------------------------------|
| `dim_`      | Dimension table                  | `dim_customer`, `dim_product`           |
| `fact_`     | Fact table                       | `fact_sales`                            |
| `report_`   | Report table                     | `report_customers`, `report_sales_monthly`   |

## **Соглашения об именовании столбцов**

### **Суррогатные ключи**  
- Все первичные ключи в dimension tables должны содержать суффикс `_key`.
- **`<table_name>_key`**  
  - `<table_name>`: Ссылается на имя таблицы или объекта, к которому принадлежит ключ.  
  - `_key`: Суффикс, указывающий на то, что этот столбец является суррогатным ключом.  
  - Пример: `customer_key` → Суррогатный ключ в `dim_customers` таблице.
  
### **Технические столбцы**
- Все технические столбцы должны начинаться с префикса `dwh_`, за которым следует описательное название, указывающее назначение столбца.
- **`dwh_<column_name>`**  
  - `dwh`: Префикс исключительно для метаданных, сгенерированных системой.  
  - `<column_name>`: Описательное название, указывающее на назначение столбца.  
  - Пример: `dwh_load_date` → Сгенерированный системой столбец, используемый для хранения даты загрузки записи.
 
## **Хранимая процедура**

- Все хранимые процедуры, используемые для загрузки данных, должны соответствовать шаблону именования:
- **`load_<layer>`**.
  
  - `<layer>`: Представляет загружаемый слой, например `bronze`, `silver`, or `gold`.
  - Пример: 
    - `load_bronze` → Хранимая процедура для загрузки данных в Bronze layer.
    - `load_silver` → Хранимая процедура для загрузки данных в Silver layer.
