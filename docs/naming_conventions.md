# **Соглашения об именовании**

В этом документе описываются соглашения об именовании, используемые для схем, таблиц, представлений, столбцов и других объектов.

## **содержание**

1. [Общие принципы] (#Общие-принципы)
2. [Соглашения об именовании таблиц] (#table-naming-conventions)
   - [Бронзовые правила] (#bronze-rules)
   - [Серебряные правила] (#silver-rules)
   - [Золотые правила] (#gold-rules)
3. [Соглашения об именовании столбцов] (#column-naming-conventions)
   - [Суррогатные ключи](#surrogate-keys)
   - [Технические столбцы] (#technical-columns)
4. [Хранимая процедура] (#соглашения об именовании хранимых процедур)
---

## **Общие принципы**

- **Соглашения об именовании**: Используйте snake_case, со строчными буквами и символами подчеркивания ("_") для разделения слов.
- **Язык**: Используйте английский для всех имен.
- **Избегайте зарезервированных слов **: Не используйте зарезервированные слова SQL в качестве имен объектов.

## **Table Naming Conventions**

### **Правила Bronze**
- Все имена должны начинаться с имени исходной системы, а имена таблиц должны совпадать с их исходными именами без переименования.
- **`<исходная система>_<сущность>`**  
  - `<исходная система>": название исходной системы (например, `crm`, `erp`).  
  - "<сущность>": точное название таблицы из исходной системы.  
  - Пример: "crm_customer_info" → Информация о клиенте из CRM-системы.

### **Правила Silver**
- Все имена должны начинаться с имени исходной системы, а имена таблиц должны совпадать с их исходными именами без переименования.
- **`<исходная система>_<сущность>`**  
  - `<исходная система>": название исходной системы (например, `crm`, `erp`).  
  - "<сущность>": точное название таблицы из исходной системы.  
  - Пример: "crm_customer_info" → Информация о клиенте из CRM-системы.

### **Золотые правила**
- Все названия таблиц должны содержать значимые, ориентированные на бизнес названия, начинающиеся с префикса категории.
- **`<категория>_<сущность>`**  
  - `<категория>": описывает роль таблицы, например, "dim` (измерение) или `fact` (таблица фактов).  
  - "<сущность>": описательное название таблицы, приведенное в соответствие с бизнес-областью (например, "клиенты", "продукты", "продажи").  
  - Примеры:
    - "dim_customers" → Таблица измерений для данных о клиентах.  
    - `fact_sales` → Таблица фактов, содержащая транзакции продажи.  

#### **Глоссарий шаблонов категорий**

| Pattern     | Meaning                           | Example(s)                              |
|-------------|-----------------------------------|-----------------------------------------|
| `dim_`      | Dimension table                  | `dim_customer`, `dim_product`           |
| `fact_`     | Fact table                       | `fact_sales`                            |
| `report_`   | Report table                     | `report_customers`, `report_sales_monthly`   |

## **Соглашения об именовании столбцов**

### **Суррогатные ключи**  
- Все первичные ключи в таблицах измерений должны содержать суффикс "_key".
- **"<имя_таблицы>_key".**  
  - `<имя_таблицы>`: указывает на имя таблицы или объекта, к которому принадлежит ключ.  
  - `_key`: Суффикс, указывающий на то, что этот столбец является суррогатным ключом.  
  - Пример: `customer_key` → Суррогатный ключ в таблице `dim_customers`.
  
### **Технические столбцы**
- Все технические столбцы должны начинаться с префикса "dwh_", за которым следует описательное название, указывающее назначение столбца.
- **"dwh_<имя_колонки>"**  
  - "dwh": префикс исключительно для метаданных, сгенерированных системой.  
  - `<имя_колонки>`: Описательное имя, указывающее назначение столбца.  
  - Пример: `dwh_load_date` → Сгенерированный системой столбец, используемый для хранения даты загрузки записи.
 
## **Хранимая процедура**

- Все хранимые процедуры, используемые для загрузки данных, должны соответствовать шаблону именования:
- **`load_<слой>`**.
  
  - "<слой>": представляет загружаемый слой, например `бронзовый`, `серебряный` или `золотой`.
  - Пример: 
    - `load_bronze` → Хранимая процедура для загрузки данных в слой Bronze.
    - `load_silver` → Хранимая процедура для загрузки данных в слой Silver.
